<ion-view view-title="Настройки">
  <ion-content class="padding">
    <div class="list list-inset">
      <!--       <div class="item item-divider">
        Выбор библейских модулей
      </div>
 -->
      <!--       <ion-toggle toggle-class="toggle toggle-assertive" ng-repeat="m in vm.foundModules" ng-model="m.checked" ng-checked="m.checked">
        {{ m.text }}
      </ion-toggle>
 -->
      <ion-list show-reorder="true" delegate-handle="app.settings">
        <div class="item item-divider">
          Выбор библейских модулей
        </div>
        <ion-item class="item item-toggle" ng-repeat="module in vm.foundModules track by $index">
          {{module.id}}
          <label class="toggle toggle-assertive">
            <input type="checkbox" ng-model="module.load" ng-checked="module.load" ng-click="vm.modulesChange()">
            <div class="track">
              <div class="handle"></div>
            </div>
          </label>
        </ion-item>
      </ion-list>
    </div>

    <div class="list list-inset">
      <div class="item item-divider">
        Модуль по умолчанию
      </div>
      <label class="item item-input item-select">
        <div class="input-label">
          Выбрать
        </div>
        <select ng-model="vm.defaultModuleId">
          <option ng-repeat="module in vm.foundModules track by $index">{{module.id}}</option>
        </select>
      </label>
    </div>
    <button ng-click="vm.rescan()" class="button button-outline1 button-block button-royal">
      Перечитать файлы
    </button>
    <button ng-click="vm.restartApp()" class="button button-outline button-block button-energized">
      Применить
    </button>
    <!-- <h6>* Настройки вступят в силу после перезагрузки программы</h6> -->
  </ion-content>
</ion-view>
